set nocompatible

filetype plugin on
set hidden 
set incsearch ic wildmenu smartcase noshowmode
set backspace=indent,eol,start
set cursorline
set nobackup noswapfile

syntax enable
set autoindent expandtab tabstop=4 shiftwidth=4 scrolloff=15
nmap <silent> <c-l> :wincmd l<CR>
nmap <silent> <c-h> :wincmd h<CR>
nmap <silent> <c-j> :wincmd j<CR>
nmap <silent> <c-k> :wincmd k<CR>
noremap <C-n> :set nu!<CR>
nnoremap ;w :up<CR>
nnoremap ;q :hide<CR>
nnoremap ;s :ls<CR>:b<Space>
nnoremap ;e :e<Space>
nnoremap ;; :
nnoremap ;n :NERDTreeToggle<CR> :wincmd =<CR>
let NERDTreeWinSize=20
let NERDTreeMinimalUI=1
let NERDTreeMinimalMenu=1
let NERDTreeQuitOnOpen=1
let NERDTreeAutoDeleteBuffer=1
nnoremap q: <nop>
nnoremap Q <nop>
inoremap kj <Esc>
nnoremap n nzzzv
nnoremap N Nzzzv
set nowrap
set laststatus=2
set statusline=
set statusline +=\ %<%F%*            "full path
set statusline +=%m%*                "modified flag
"VIMWIKI config
let g:vimwiki_list = [{'path': '/notes/wiki',
                      \ 'syntax': 'markdown', 'ext': 'md'}]
let g:vimwiki_markdown_link_ext = 0
let g:vimwiki_global_ext=1
"COLORSCHEME
set termguicolors
set background=dark
let g:everforest_background = 'medium'
let g:everforest_better_performance = 1
colorscheme everforest
inoremap <C-c> <Esc>
set viminfo='100,<50,s10,h

let g:SuperTabDefaultCompletionType = "context"
let g:SuperTabCompletionContexts = ['s:ContextText', 's:ContextDiscover']
let g:lightline = { 'colorscheme': 'one',  }

"select file w/ lf
function! LF()
    let temp = tempname()
    exec 'silent !lf -selection-path=' . shellescape(temp)

    if !filereadable(temp)
        redraw!
        return
    endif

    let names = readfile(temp)
    if empty(names)
        redraw!
        return
    endif

    " Change local directory to the directory of the first selected file
    let first = names[0]
    if filereadable(first)
        exec 'lcd ' . fnameescape(fnamemodify(first, ':p:h'))
    endif

    exec 'edit ' . fnameescape(first)
    for name in names[1:]
        exec 'argadd ' . fnameescape(name)
    endfor

    redraw!
endfunction

command! -bar LF call LF()
